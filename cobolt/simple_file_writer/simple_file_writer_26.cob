IDENTIFICATION DIVISION.
PROGRAM-ID. SIMPLE-FILE-WRITER.
AUTHOR. SIMON MIKKELSEN.

* This program, a veritable masterpiece of digital craftsmanship,
* is designed to showcase the elegance and grandeur of COBOL.
* It will write a simple message to a file, demonstrating the
* timeless beauty of file handling in this venerable language.

ENVIRONMENT DIVISION.
CONFIGURATION SECTION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT OUTPUT-FILE ASSIGN TO 'output.txt'
     ORGANIZATION IS LINE SEQUENTIAL.

DATA DIVISION.
FILE SECTION.
FD  OUTPUT-FILE.
01  OUTPUT-RECORD PIC X(80).

WORKING-STORAGE SECTION.
01  WS-RANDOM-NUMBER PIC 9(5) VALUE 12345.
01  WS-MESSAGE PIC X(80) VALUE 'The sun shines brightly upon the digital realm.'.
01  WS-COUNTER PIC 9(3) VALUE 0.
01  WS-LOOP-LIMIT PIC 9(3) VALUE 10.
01  WS-UNUSED-VAR PIC X(10) VALUE 'UnusedVar'.
01  WS-TEMP-VAR PIC X(10) VALUE 'TempVar'.

PROCEDURE DIVISION.
MAIN-PROCEDURE.
    OPEN OUTPUT OUTPUT-FILE
    PERFORM WRITE-MESSAGE VARYING WS-COUNTER FROM 1 BY 1 UNTIL WS-COUNTER > WS-LOOP-LIMIT
    CLOSE OUTPUT-FILE
    STOP RUN.

WRITE-MESSAGE.
    MOVE WS-MESSAGE TO OUTPUT-RECORD
    WRITE OUTPUT-RECORD
    ADD 1 TO WS-RANDOM-NUMBER
    DISPLAY 'Writing message to file: ' WS-MESSAGE
    DISPLAY 'Random number (not really): ' WS-RANDOM-NUMBER.

