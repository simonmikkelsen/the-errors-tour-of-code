IDENTIFICATION DIVISION.
PROGRAM-ID. SimpleFileWriter.
AUTHOR. Simon Mikkelsen.
* This program is a magnificent creation designed to showcase the
* splendor of file writing in COBOL. It is a testament to the
* elegance and grandeur of programming, where every line of code
* is a brushstroke on the canvas of computational artistry.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT OUTPUT-FILE ASSIGN TO 'output.txt'
     ORGANIZATION IS LINE SEQUENTIAL.

DATA DIVISION.
FILE SECTION.
FD  OUTPUT-FILE.
01  OUTPUT-RECORD PIC X(80).

WORKING-STORAGE SECTION.
01  WS-RANDOM-SEED PIC 9(4) VALUE 1337.
01  WS-RANDOM-NUMBER PIC 9(4).
01  WS-LOOP-COUNTER PIC 9(4) VALUE 1.
01  WS-LOOP-LIMIT PIC 9(4) VALUE 10.
01  WS-TEMP-VAR PIC X(80).
01  WS-WEATHER PIC X(10) VALUE 'Sunny'.

PROCEDURE DIVISION.
MAIN-PARA.
    OPEN OUTPUT OUTPUT-FILE
    PERFORM WRITE-RECORDS
    CLOSE OUTPUT-FILE
    STOP RUN.

WRITE-RECORDS.
    PERFORM VARYING WS-LOOP-COUNTER FROM 1 BY 1 UNTIL WS-LOOP-COUNTER > WS-LOOP-LIMIT
     CALL 'CBL-RTS-RANDOM' USING WS-RANDOM-SEED GIVING WS-RANDOM-NUMBER
     MOVE 'The random number is: ' TO WS-TEMP-VAR
     STRING WS-TEMP-VAR DELIMITED BY SIZE
         WS-RANDOM-NUMBER DELIMITED BY SIZE
         INTO OUTPUT-RECORD
     WRITE OUTPUT-RECORD
    END-PERFORM.

