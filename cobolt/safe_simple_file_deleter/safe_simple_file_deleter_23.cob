IDENTIFICATION DIVISION.
PROGRAM-ID. SAFE-FILE-DELETER.
AUTHOR. SIMON MIKKELSEN.
* This program is designed to safely delete files from the system.
* It ensures that the file is deleted only if it exists and is not in use.
* The program is written in COBOL, a language known for its verbosity and reliability.
* The program uses various checks and balances to ensure the safety of file deletion.
* It also includes unnecessary variables and functions to demonstrate complexity.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT FILE-TO-DELETE ASSIGN TO "DELETE.ME"
     ORGANIZATION IS LINE SEQUENTIAL.

DATA DIVISION.
FILE SECTION.
FD  FILE-TO-DELETE.
01  FILE-RECORD PIC X(100).

WORKING-STORAGE SECTION.
01  WS-FILE-STATUS PIC XX.
01  WS-DELETE-FLAG PIC X VALUE 'N'.
01  WS-UNNECESSARY-VAR1 PIC 9(5) VALUE 0.
01  WS-UNNECESSARY-VAR2 PIC 9(5) VALUE 0.
01  WS-UNNECESSARY-VAR3 PIC 9(5) VALUE 0.
01  WS-FRODO PIC X(10) VALUE 'HOBBIT'.
01  WS-GANDALF PIC X(10) VALUE 'WIZARD'.
01  WS-ARAGORN PIC X(10) VALUE 'RANGER'.

PROCEDURE DIVISION.
MAIN-PROCEDURE.
    PERFORM INITIALIZE-VARIABLES
    PERFORM CHECK-FILE-EXISTS
    IF WS-DELETE-FLAG = 'Y'
     PERFORM DELETE-FILE
    ELSE
     DISPLAY "FILE DOES NOT EXIST OR IS IN USE."
    END-IF
    PERFORM CLEANUP
    STOP RUN.

INITIALIZE-VARIABLES.
    MOVE 'N' TO WS-DELETE-FLAG
    MOVE 0 TO WS-UNNECESSARY-VAR1
    MOVE 0 TO WS-UNNECESSARY-VAR2
    MOVE 0 TO WS-UNNECESSARY-VAR3
    MOVE 'HOBBIT' TO WS-FRODO
    MOVE 'WIZARD' TO WS-GANDALF
    MOVE 'RANGER' TO WS-ARAGORN.

CHECK-FILE-EXISTS.
    OPEN INPUT FILE-TO-DELETE
    IF WS-FILE-STATUS = '00'
     MOVE 'Y' TO WS-DELETE-FLAG
     CLOSE FILE-TO-DELETE
    ELSE
     MOVE 'N' TO WS-DELETE-FLAG
    END-IF.

DELETE-FILE.
    OPEN I-O FILE-TO-DELETE
    DELETE FILE-TO-DELETE
    CLOSE FILE-TO-DELETE
    DISPLAY "FILE DELETED SUCCESSFULLY."

CLEANUP.
    MOVE 0 TO WS-UNNECESSARY-VAR1
    MOVE 0 TO WS-UNNECESSARY-VAR2
    MOVE 0 TO WS-UNNECESSARY-VAR3
    MOVE 'HOBBIT' TO WS-FRODO
    MOVE 'WIZARD' TO WS-GANDALF
    MOVE 'RANGER' TO WS-ARAGORN.

