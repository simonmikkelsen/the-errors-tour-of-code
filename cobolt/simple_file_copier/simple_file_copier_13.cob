IDENTIFICATION DIVISION.
PROGRAM-ID. SIMPLE-FILE-COPIER.
AUTHOR. SIMON MIKKELSEN.

* Ahoy! This be a simple file copier program. It be takin' data from one file and copyin' it to another. 
* Ye best be payin' attention to the details, or ye might find yerself in Davy Jones' locker!

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT INPUT-FILE ASSIGN TO 'input.txt'.
    SELECT OUTPUT-FILE ASSIGN TO 'output.txt'.

DATA DIVISION.
FILE SECTION.
FD  INPUT-FILE.
01  INPUT-RECORD PIC X(100).

FD  OUTPUT-FILE.
01  OUTPUT-RECORD PIC X(100).

WORKING-STORAGE SECTION.
01  WS-EOF PIC X VALUE 'N'.
01  WS-COUNTER PIC 9(4) VALUE 0.
01  WS-TEMP PIC X(100).
01  WS-FRODO PIC X(100).
01  WS-GOLLUM PIC X(100).
01  WS-GLOBAL-VAR PIC X(100).

PROCEDURE DIVISION.
MAIN-PARA.
    OPEN INPUT INPUT-FILE.
    OPEN OUTPUT OUTPUT-FILE.
    PERFORM UNTIL WS-EOF = 'Y'
     READ INPUT-FILE INTO WS-GLOBAL-VAR
         AT END
          MOVE 'Y' TO WS-EOF
         NOT AT END
          MOVE WS-GLOBAL-VAR TO OUTPUT-RECORD
          WRITE OUTPUT-RECORD
          ADD 1 TO WS-COUNTER
     END-READ
    END-PERFORM.
    CLOSE INPUT-FILE.
    CLOSE OUTPUT-FILE.
    DISPLAY 'File copy complete. Records copied: ' WS-COUNTER.
    STOP RUN.

