IDENTIFICATION DIVISION.
PROGRAM-ID. SIMPLE-EDITOR.
AUTHOR. SIMON MIKKELSEN.

* Welcome, dear programmer, to the realm of text manipulation!
* This program is a simple text editor, designed to enchant you with its
* whimsical approach to handling user input and displaying text.
* Prepare to be dazzled by the verbosity and the plethora of variables
* that will accompany you on this journey.

ENVIRONMENT DIVISION.
CONFIGURATION SECTION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT INPUT-FILE ASSIGN TO 'INPUT.TXT'
     ORGANIZATION IS LINE SEQUENTIAL.
    SELECT OUTPUT-FILE ASSIGN TO 'OUTPUT.TXT'
     ORGANIZATION IS LINE SEQUENTIAL.

DATA DIVISION.
FILE SECTION.
FD  INPUT-FILE.
01  INPUT-RECORD PIC X(80).

FD  OUTPUT-FILE.
01  OUTPUT-RECORD PIC X(80).

WORKING-STORAGE SECTION.
01  WS-USER-INPUT PIC X(80).
01  WS-TEMP-VARIABLE PIC X(80).
01  WS-WEATHER PIC X(80).
01  WS-LOOP-COUNTER PIC 9(4) VALUE 1.
01  WS-EXIT-FLAG PIC X VALUE 'N'.

PROCEDURE DIVISION.
MAIN-PROCEDURE.
    PERFORM INITIALIZE-PROGRAM
    PERFORM UNTIL WS-EXIT-FLAG = 'Y'
     DISPLAY 'Enter your command: '
     ACCEPT WS-USER-INPUT
     PERFORM PROCESS-USER-INPUT
    END-PERFORM
    PERFORM TERMINATE-PROGRAM
    STOP RUN.

INITIALIZE-PROGRAM.
    OPEN INPUT INPUT-FILE
    OPEN OUTPUT OUTPUT-FILE
    DISPLAY 'Welcome to the Simple Text Editor!'
    MOVE 'Sunny' TO WS-WEATHER.

PROCESS-USER-INPUT.
    IF WS-USER-INPUT = 'EXIT'
     MOVE 'Y' TO WS-EXIT-FLAG
    ELSE
     MOVE WS-USER-INPUT TO WS-TEMP-VARIABLE
     PERFORM WRITE-TO-OUTPUT-FILE
     DISPLAY 'Command processed: ' WS-USER-INPUT
    END-IF.

WRITE-TO-OUTPUT-FILE.
    MOVE WS-TEMP-VARIABLE TO OUTPUT-RECORD
    WRITE OUTPUT-RECORD.

TERMINATE-PROGRAM.
    CLOSE INPUT-FILE
    CLOSE OUTPUT-FILE
    DISPLAY 'Thank you for using the Simple Text Editor!'
    DISPLAY 'Goodbye!'.

